<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ú©Ø§ÙÙ‡ Ø¨ÙˆÙ</title>

<style>
body {
  margin: 0;
  background: #000;
  color: #eee;
  font-family: sans-serif;
}

/* Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ Ùˆ Ø¢ÛŒÚ©ÙˆÙ†â€ŒÙ‡Ø§ Ø¨Ø§Ù„Ø§ */
.top-links {
  position: fixed;
  top: 10px;
  left: 10px;
  display: flex;
  gap: 10px;
  z-index: 1000;
}
.top-links img {
  width: 26px;
  height: 26px;
  transition: 0.2s;
}
.top-links img:hover { transform: scale(1.15); }

/* Ù¾ÛŒØ§Ù… Ø§ÙØ²ÙˆØ¯Ù‡ Ø´Ø¯ */
#notif {
  position: fixed;
  top: 50px;
  left: 50%;
  transform: translateX(-50%);
  background: #2e7d32;
  padding: 8px 16px;
  border-radius: 8px;
  display: none;
  z-index: 1000;
}

/* Ù‡Ø¯Ø± Ø¨Ø§ Ø¨Ù†Ø± Ø¬Ù†Ú¯Ù„ÛŒ */
header {
  padding: 70px 10px 10px;
  text-align: center;
  background-image: url('images/banner.jpg');
  background-size: cover;
  background-position: center;
  border-radius: 10px;
}
header h1 {
  margin: 0;
  color: #fff;
  text-shadow: 1px 1px 4px #000;
}

/* Ø¬Ø³ØªØ¬Ùˆ */
#searchBox {
  width: calc(100% - 20px);
  margin: 5px 10px;
  padding: 6px 10px;
  border-radius: 20px;
  border: none;
  background: #222;
  color: #fff;
}

/* Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ */
.categories {
  display: flex;
  gap: 8px;
  padding: 10px;
  overflow-x: auto;
}
.categories button {
  background: #222;
  border: none;
  color: #fff;
  padding: 6px 12px;
  border-radius: 20px;
  cursor: pointer;
}
.categories button.active {
  background: #2e7d32;
}

/* Ù…Ù†Ùˆ */
.menu {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
  gap: 10px;
  padding: 10px;
}
.item {
  background: #111;
  border-radius: 10px;
  padding: 6px;
  text-align: center;
  font-size: 13px;
}
.item img {
  width: 100%;
  height: 80px;
  object-fit: cover;
  border-radius: 8px;
}
.item h3 { margin: 4px 0; font-size: 13px; }
.item span { font-size: 12px; color: #8f8; }
.item button {
  margin-top: 4px;
  width: 100%;
  background: #2e7d32;
  border: none;
  color: #fff;
  border-radius: 6px;
  padding: 4px;
  font-size: 12px;
}

/* Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ */
.cart-btn {
  position: fixed;
  bottom: 15px;
  right: 15px;
  width: 55px;
  height: 55px;
  border-radius: 50%;
  background: #1b5e20;
  color: #fff;
  font-size: 22px;
  border: none;
}
.cart-count {
  position: absolute;
  top: -5px;
  right: -5px;
  background: #ff5252;
  width: 20px;
  height: 20px;
  font-size: 12px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  color: #fff;
}

/* Ø®ÙˆØ¯ Ø³Ø¨Ø¯ */
.cart {
  position: fixed;
  bottom: 80px;
  right: 15px;
  width: 260px;
  background: #111;
  border-radius: 10px;
  padding: 10px;
  display: none;
}
.cart-item {
  display: flex;
  justify-content: space-between;
  font-size: 12px;
  margin-bottom: 6px;
}
.cart-item button {
  background: #333;
  color: #fff;
  border: none;
  width: 22px;
  height: 22px;
}
.total {
  text-align: center;
  margin-top: 8px;
  font-weight: bold;
  line-height: 1.4;
}
#orderForm {
  margin-top: 10px;
  display: flex;
  flex-direction: column;
  gap: 4px;
}
#orderForm input {
  padding: 5px;
  border-radius: 6px;
  border: none;
  font-size: 12px;
}
#orderForm button {
  background: #2e7d32;
  color: #fff;
  border: none;
  padding: 6px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 13px;
}
</style>
</head>

<body>

<!-- Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ -->
<div class="top-links">
  <a href="https://instagram.com/kafeboof" target="_blank"><img src="icons/instagram.svg"></a>
  <a href="https://wa.me/989388388937" target="_blank"><img src="icons/whatsapp.svg"></a>
  <a href="tel:09388388937"><img src="icons/phone.svg"></a>
  <a href="https://maps.app.goo.gl/uykS7EjyRvsAzLGm6" target="_blank"><img src="icons/googlemaps.svg"></a>
  <a href="https://nshn.ir/25vbvh8IpxJ7e2" target="_blank"><img src="icons/neshan.svg"></a>
</div>

<!-- Ù¾ÛŒØ§Ù… Ø§ÙØ²ÙˆØ¯Ù‡ Ø´Ø¯ -->
<div id="notif">Ø¢ÛŒØªÙ… Ø¨Ù‡ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯!</div>

<header>
  <h1>Ú©Ø§ÙÙ‡ Ø¨ÙˆÙ</h1>
</header>

<!-- Ø¬Ø³ØªØ¬Ùˆ -->
<input type="text" id="searchBox" placeholder="Ø¬Ø³ØªØ¬Ùˆ" oninput="renderMenu()">

<div class="categories" id="categories"></div>
<div class="menu" id="menu"></div>

<button class="cart-btn" onclick="toggleCart()">ğŸ›’
  <span class="cart-count" id="cartCount">0</span>
</button>

<div class="cart" id="cart">
  <div id="cartItems"></div>
  <div class="total" id="total"></div>

  <form id="orderForm">
    <input type="text" id="customerName" placeholder="Ù†Ø§Ù… Ø´Ù…Ø§">
    <input type="text" id="tableNumber" placeholder="Ø´Ù…Ø§Ø±Ù‡ Ù…ÛŒØ²">
    <button type="button" onclick="submitOrder()">Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´</button>
  </form>
</div>

<script>
const items = [
 {name:'Ø§Ø³Ù¾Ø±Ø³Ùˆ Ø³ÛŒÙ†Ú¯Ù„',price:110000,cat:'Ø¨Ø§Ø± Ù‚Ù‡ÙˆÙ‡',img:'images/coffee.jpg'},
 {name:'Ø§Ø³Ù¾Ø±Ø³Ùˆ Ø¯Ø§Ø¨Ù„',price:110000,cat:'Ø¨Ø§Ø± Ù‚Ù‡ÙˆÙ‡',img:'images/coffee.jpg'},
  {name:'Ù„Ø§ØªÙ‡ Ù…Ø§Ú†Ø§ Ù†Ø§Ø±Ú¯ÛŒÙ„',price:230000,cat:'Ø¨Ø§Ø± Ù‚Ù‡ÙˆÙ‡',img:'images/latte.jpg'},
  {name:'Ù…Ø§Ú†Ø§',price:170000,cat:'Ø¨Ø§Ø± Ù‚Ù‡ÙˆÙ‡',img:'images/latte.jpg'},
 {name:'Ø§Ù…Ø±ÛŒÚ©Ø§Ù†Ùˆ Ø³ÛŒÙ†Ú¯Ù„',price:110000,cat:'Ø¨Ø§Ø± Ù‚Ù‡ÙˆÙ‡',img:'images/coffee.jpg'},
  {name:'Ø§Ù…Ø±ÛŒÚ©Ø§Ù†Ùˆ Ø¯Ø§Ø¨Ù„',price:110000,cat:'Ø¨Ø§Ø± Ù‚Ù‡ÙˆÙ‡',img:'images/coffee.jpg'},
  {name:'Ù„Ø§ØªÙ‡',price:150000,cat:'Ø¨Ø§Ø± Ù‚Ù‡ÙˆÙ‡',img:'images/coffee.jpg'},
  {name:'Ø¢ÛŒØ³ Ù„Ø§ØªÙ‡',price:150000,cat:'Ø¨Ø§Ø± Ù‚Ù‡ÙˆÙ‡',img:'images/coffee.jpg'},
 {name:'Ù„Ø§ØªÙ‡ Ù…Ø§Ø³Ø§Ù„Ø§',price:170000,cat:'Ø¨Ø§Ø± Ù‚Ù‡ÙˆÙ‡',img:'images/latte.jpg'},
  {name:'ÙØ±Ø§Ù¾Ø§Ú†ÛŒÙ†Ùˆ',price:170000,cat:'Ø¨Ø§Ø± Ù‚Ù‡ÙˆÙ‡',img:'images/latte.jpg'},
  {name:'Ù…ÙˆÚ©Ø§',price:160000,cat:'Ø¨Ø§Ø± Ù‚Ù‡ÙˆÙ‡',img:'images/latte.jpg'},
  {name:'Ú©Ø§Ø±Ø§Ù…Ù„ Ù…Ø§Ú©ÛŒØ§ØªÙˆ',price:160000,cat:'Ø¨Ø§Ø± Ù‚Ù‡ÙˆÙ‡',img:'images/latte.jpg'},
  {name:'ÙÙ†Ø¯Ù‚ Ù…Ø§Ú©ÛŒØ§ØªÙˆ',price:160000,cat:'Ø¨Ø§Ø± Ù‚Ù‡ÙˆÙ‡',img:'images/latte.jpg'},
  {name:'ÙˆØ§Ù†ÛŒÙ„ Ù…Ø§Ú©ÛŒØ§ØªÙˆ',price:160000,cat:'Ø¨Ø§Ø± Ù‚Ù‡ÙˆÙ‡',img:'images/latte.jpg'},
  {name:'Ù„ÙˆØªÙˆØ³ Ù…Ø§Ú©ÛŒØ§ØªÙˆ',price:160000,cat:'Ø¨Ø§Ø± Ù‚Ù‡ÙˆÙ‡',img:'images/latte.jpg'},
  {name:'Ù†Ø§Ø±Ú¯ÛŒÙ„ Ù…Ø§Ú©ÛŒØ§ØªÙˆ',price:160000,cat:'Ø¨Ø§Ø± Ù‚Ù‡ÙˆÙ‡',img:'images/latte.jpg'},
  {name:'Ø¢ÛŒØ³ Ù…ÙˆÚ©Ø§',price:160000,cat:'Ø¨Ø§Ø± Ù‚Ù‡ÙˆÙ‡',img:'images/latte.jpg'},
  {name:'Ø¢ÛŒØ³ Ú©Ø§Ø±Ø§Ù…Ù„',price:160000,cat:'Ø¨Ø§Ø± Ù‚Ù‡ÙˆÙ‡',img:'images/latte.jpg'},
  {name:'Ø¢ÛŒØ³ ÙÙ†Ø¯Ù‚',price:160000,cat:'Ø¨Ø§Ø± Ù‚Ù‡ÙˆÙ‡',img:'images/latte.jpg'},
  {name:'Ø¢ÛŒØ³ ÙˆØ§Ù†ÛŒÙ„',price:160000,cat:'Ø¨Ø§Ø± Ù‚Ù‡ÙˆÙ‡',img:'images/latte.jpg'},
  {name:'Ø¢ÛŒØ³ Ù„ÙˆØªÙˆØ³',price:160000,cat:'Ø¨Ø§Ø± Ù‚Ù‡ÙˆÙ‡',img:'images/latte.jpg'},
  {name:'Ø¢ÛŒØ³ Ù†Ø§Ø±Ú¯ÛŒÙ„',price:160000,cat:'Ø¨Ø§Ø± Ù‚Ù‡ÙˆÙ‡',img:'images/latte.jpg'},
  {name:'ÛŒÙˆÙ†Ø§Ù†ÛŒ',price:150000,cat:'Ø¨Ø§Ø± Ù‚Ù‡ÙˆÙ‡',img:'images/latte.jpg'},
  {name:'Ù‚Ù‡ÙˆÙ‡ ØªØ±Ú©',price:110000,cat:'Ø¨Ø§Ø± Ù‚Ù‡ÙˆÙ‡',img:'images/latte.jpg'},
 {name:'Ú†Ø§ÛŒ',price:40000,cat:'Ú†Ø§ÛŒ Ùˆ Ø¯Ù…Ù†ÙˆØ´',img:'images/tea.jpg'},
 {name:'Ù‡Ø§Øª Ú†Ø§Ú©Ù„Øª',price:90000,cat:'Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ Ú¯Ø±Ù…',img:'images/hotchoco.jpg'},
 {name:'Ø¢Ø¨Ù…ÛŒÙˆÙ‡',price:50000,cat:'Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ Ø³Ø±Ø¯',img:'images/juice.jpg'},
 {name:'Ø´ÛŒÚ© Ù…ÙˆØ²',price:70000,cat:'Ø´ÛŒÚ©',img:'images/milkshake.jpg'},
 {name:'Ø³Ø§Ù†Ø¯ÙˆÛŒÚ†',price:120000,cat:'Ù¾ÛŒØ´ ØºØ°Ø§',img:'images/sandwich.jpg'},
 {name:'Ø§Ø³ØªÛŒÚ©',price:250000,cat:'ØºØ°Ø§ Ø§ØµÙ„ÛŒ',img:'images/steak.jpg'},
 {name:'Ù¾Ù†Ú©ÛŒÚ©',price:80000,cat:'ØµØ¨Ø­Ø§Ù†Ù‡',img:'images/pancake.jpg'},
 {name:'Ú†ÛŒØ²Ú©ÛŒÚ©',price:60000,cat:'Ú©ÛŒÚ© Ùˆ Ø¯Ø³Ø±',img:'images/cheesecake.jpg'}
];

let cart = {};
let currentCat = 'Ù‡Ù…Ù‡';
const cats = ['Ù‡Ù…Ù‡', ...new Set(items.map(i=>i.cat))];

function renderCategories(){
  const c = document.getElementById('categories');
  c.innerHTML='';
  cats.forEach(cat=>{
    const b=document.createElement('button');
    b.innerText=cat;
    if(cat===currentCat) b.classList.add('active');
    b.onclick=()=>{currentCat=cat;renderMenu();renderCategories();}
    c.appendChild(b);
  });
}

function renderMenu(){
  const m=document.getElementById('menu');
  m.innerHTML='';
  const search = document.getElementById('searchBox').value.toLowerCase();
  items.filter(i=> (currentCat==='Ù‡Ù…Ù‡'||i.cat===currentCat) && i.name.toLowerCase().includes(search))
  .forEach(i=>{
    m.innerHTML+=`
    <div class="item">
      <img src="${i.img}">
      <h3>${i.name}</h3>
      <span>${i.price.toLocaleString()} ØªÙˆÙ…Ø§Ù†</span>
      <button onclick="addToCart('${i.name}',${i.price})">Ø§ÙØ²ÙˆØ¯Ù†</button>
    </div>`;
  });
}

function addToCart(name, price){
  cart[name]=cart[name]?{price,qty:cart[name].qty+1}:{price,qty:1};
  renderCart();
  showNotif();
}

function renderCart(){
  const c=document.getElementById('cartItems');
  const t=document.getElementById('total');
  const countSpan=document.getElementById('cartCount');
  c.innerHTML='';
  let sum=0;
  let totalQty=0;
  for(let i in cart){
    sum+=cart[i].price*cart[i].qty;
    totalQty+=cart[i].qty;
    c.innerHTML+=`
    <div class="cart-item">
      ${i}
      <div>
        <button onclick="changeQty('${i}',-1)">-</button>
        ${cart[i].qty}
        <button onclick="changeQty('${i}',1)">+</button>
      </div>
    </div>`;
  }

  // Ø§Ø±Ø²Ø´ Ø§ÙØ²ÙˆØ¯Ù‡ 10Ùª
  let tax = Math.round(sum * 0.1);
  let finalSum = sum + tax;

  t.innerHTML=`Ø¬Ù…Ø¹ Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§: ${sum.toLocaleString()} ØªÙˆÙ…Ø§Ù†
  <br>-------------------<br>
  Ø§Ø±Ø²Ø´ Ø§ÙØ²ÙˆØ¯Ù‡ (10Ùª): ${tax.toLocaleString()} ØªÙˆÙ…Ø§Ù†
  <br>Ø¬Ù…Ø¹ Ú©Ù„ ÙØ§Ú©ØªÙˆØ±: ${finalSum.toLocaleString()} ØªÙˆÙ…Ø§Ù†`;

  countSpan.innerText=totalQty;
}

function changeQty(n,d){
  cart[n].qty+=d;
  if(cart[n].qty<=0) delete cart[n];
  renderCart();
}

function toggleCart(){
  const c=document.getElementById('cart');
  c.style.display = c.style.display==='block'?'none':'block';
}

function showNotif(){
  const n=document.getElementById('notif');
  n.style.display='block';
  setTimeout(()=>{n.style.display='none';},2000);
}

function submitOrder(){
  const name=document.getElementById('customerName').value;
  const table=document.getElementById('tableNumber').value;
  if(!name||!table){
    alert('Ù„Ø·ÙØ§Ù‹ Ù†Ø§Ù… Ùˆ Ø´Ù…Ø§Ø±Ù‡ Ù…ÛŒØ² Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯!');
    return;
  }
  if(Object.keys(cart).length===0){
    alert('Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø®Ø§Ù„ÛŒ Ø§Ø³Øª!');
    return;
  }

  let sum = 0;
  for(let i in cart) sum += cart[i].price*cart[i].qty;
  let tax = Math.round(sum*0.1);
  let finalSum = sum + tax;

  console.log('Ø³ÙØ§Ø±Ø´ Ø«Ø¨Øª Ø´Ø¯:', {customer:name,table,cart,finalSum});
  alert(`Ø³ÙØ§Ø±Ø´ Ø´Ù…Ø§ Ø«Ø¨Øª Ø´Ø¯!\nØ¬Ù…Ø¹ Ú©Ù„: ${finalSum.toLocaleString()} ØªÙˆÙ…Ø§Ù†`);

  cart={};
  renderCart();
  document.getElementById('customerName').value='';
  document.getElementById('tableNumber').value='';
  toggleCart();
}

renderCategories();
renderMenu();
</script>

</body>
</html>
